import{_ as L0}from"../chunks/preload-helper.a4192956.js";import{s as p0,f as y,g as C,h as P,d as w,j as _,i as j,z as c0,B as U0,e as f0,C as Y,D as J0,E as d0,l as D0,a as K,m as W0,c as X,y as E,o as F0}from"../chunks/scheduler.d62097a6.js";import{S as _0,i as m0,b as Z,d as $,m as e0,a as B,c as a0,t as z,e as t0,g as i0}from"../chunks/index.186cdfe7.js";import{v as A0}from"../chunks/environment.9e0b1bba.js";function R(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function S0(a,t,n){const e=a.slice();return e[9]=t[n],e}function B0(a,t,n){const e=a.slice();return e[9]=t[n],e[11]=n,e}function Q0(a){let t,n=R(a[0]),e=[];for(let l=0;l<n.length;l+=1)e[l]=E0(S0(a,n,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=f0()},l(l){for(let o=0;o<e.length;o+=1)e[o].l(l);t=f0()},m(l,o){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(l,o);j(l,t,o)},p(l,o){if(o&17){n=R(l[0]);let s;for(s=0;s<n.length;s+=1){const m=S0(l,n,s);e[s]?e[s].p(m,o):(e[s]=E0(m),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}},d(l){l&&w(t),Y(e,l)}}}function G0(a){let t,n=R(a[0]),e=[];for(let l=0;l<n.length;l+=1)e[l]=y0(B0(a,n,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=f0()},l(l){for(let o=0;o<e.length;o+=1)e[o].l(l);t=f0()},m(l,o){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(l,o);j(l,t,o)},p(l,o){if(o&49){n=R(l[0]);let s;for(s=0;s<n.length;s+=1){const m=B0(l,n,s);e[s]?e[s].p(m,o):(e[s]=y0(m),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}},d(l){l&&w(t),Y(e,l)}}}function E0(a){let t,n;return{c(){t=y("div"),this.h()},l(e){t=C(e,"DIV",{class:!0}),P(t).forEach(w),this.h()},h(){_(t,"class",n="box "+a[4][a[9]])},m(e,l){j(e,t,l)},p(e,l){l&1&&n!==(n="box "+e[4][e[9]])&&_(t,"class",n)},d(e){e&&w(t)}}}function y0(a){let t,n,e,l;function o(){return a[7](a[11])}return{c(){t=y("div"),this.h()},l(s){t=C(s,"DIV",{class:!0}),P(t).forEach(w),this.h()},h(){_(t,"class",n="box "+a[4][a[9]])},m(s,m){j(s,t,m),e||(l=J0(t,"click",o),e=!0)},p(s,m){a=s,m&1&&n!==(n="box "+a[4][a[9]])&&_(t,"class",n)},d(s){s&&w(t),e=!1,l()}}}function H0(a){let t;function n(o,s){return o[2]?G0:Q0}let e=n(a),l=e(a);return{c(){t=y("squares"),l.c(),this.h()},l(o){t=C(o,"SQUARES",{class:!0,index:!0});var s=P(t);l.l(s),s.forEach(w),this.h()},h(){_(t,"class",a[1]),_(t,"index",a[3])},m(o,s){j(o,t,s),l.m(t,null)},p(o,[s]){e===(e=n(o))&&l?l.p(o,s):(l.d(1),l=e(o),l&&(l.c(),l.m(t,null))),s&2&&_(t,"class",o[1]),s&8&&_(t,"index",o[3])},i:c0,o:c0,d(o){o&&w(t),l.d()}}}function K0(a,t,n){let{pattern:e=[]}=t,{classname:l=""}=t,{sectionId:o=""}=t,{interactive:s=!1}=t,{index:m=-1}=t;const r=["a","b","c","d"],T=U0(),g=b=>{T("update",{sectionId:o,index:b})},S=b=>g(b);return a.$$set=b=>{"pattern"in b&&n(0,e=b.pattern),"classname"in b&&n(1,l=b.classname),"sectionId"in b&&n(6,o=b.sectionId),"interactive"in b&&n(2,s=b.interactive),"index"in b&&n(3,m=b.index)},[e,l,s,m,r,g,o,S]}class g0 extends _0{constructor(t){super(),m0(this,t,K0,H0,p0,{pattern:0,classname:1,sectionId:6,interactive:2,index:3})}}function C0(a,t,n){const e=a.slice();return e[7]=t[n],e[9]=n,e}function P0(a){let t,n,e;function l(){return a[5](a[9])}return{c(){t=y("div"),this.h()},l(o){t=C(o,"DIV",{class:!0}),P(t).forEach(w),this.h()},h(){_(t,"class","box"),d0(t,"x",a[7]===1)},m(o,s){j(o,t,s),n||(e=J0(t,"click",l),n=!0)},p(o,s){a=o,s&1&&d0(t,"x",a[7]===1)},d(o){o&&w(t),n=!1,e()}}}function X0(a){let t,n=R(a[0]),e=[];for(let l=0;l<n.length;l+=1)e[l]=P0(C0(a,n,l));return{c(){t=y("circles");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=C(l,"CIRCLES",{class:!0});var o=P(t);for(let s=0;s<e.length;s+=1)e[s].l(o);o.forEach(w),this.h()},h(){_(t,"class",a[1])},m(l,o){j(l,t,o);for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(t,null)},p(l,[o]){if(o&5){n=R(l[0]);let s;for(s=0;s<n.length;s+=1){const m=C0(l,n,s);e[s]?e[s].p(m,o):(e[s]=P0(m),e[s].c(),e[s].m(t,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}o&2&&_(t,"class",l[1])},i:c0,o:c0,d(l){l&&w(t),Y(e,l)}}}function Y0(a,t,n){let{pattern:e=[]}=t,{classname:l=""}=t,{sectionId:o=""}=t,{parentIndex:s=-1}=t;const m=U0(),r=g=>{m("update",{sectionId:o,index:g,parentIndex:s})},T=g=>r(g);return a.$$set=g=>{"pattern"in g&&n(0,e=g.pattern),"classname"in g&&n(1,l=g.classname),"sectionId"in g&&n(3,o=g.sectionId),"parentIndex"in g&&n(4,s=g.parentIndex)},[e,l,r,o,s,T]}class u0 extends _0{constructor(t){super(),m0(this,t,Y0,X0,p0,{pattern:0,classname:1,sectionId:3,parentIndex:4})}}function V0(a,t,n){const e=a.slice();return e[17]=t[n],e[19]=n,e}function x0(a,t,n){const e=a.slice();return e[17]=t[n],e[19]=n,e}function q0(a,t,n){const e=a.slice();return e[17]=t[n],e[19]=n,e}function z0(a,t,n){const e=a.slice();return e[17]=t[n],e[19]=n,e}function N0(a){let t,n;return t=new u0({props:{pattern:a[17],classname:"row reverse",sectionId:"threading",parentIndex:a[19]}}),t.$on("update",a[3]),{c(){Z(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,l){e0(t,e,l),n=!0},p(e,l){const o={};l&4&&(o.pattern=e[17]),t.$set(o)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){t0(t,e)}}}function O0(a){let t,n;return t=new u0({props:{pattern:a[17],classname:"col reverse",sectionId:"tieup",parentIndex:a[19]}}),t.$on("update",a[3]),{c(){Z(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,l){e0(t,e,l),n=!0},p(e,l){const o={};l&4&&(o.pattern=e[17]),t.$set(o)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){t0(t,e)}}}function R0(a){let t,n;return t=new g0({props:{pattern:a[17],classname:"row reverse",sectionId:"drawdown",interactive:!1}}),{c(){Z(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,l){e0(t,e,l),n=!0},p(e,l){const o={};l&1&&(o.pattern=e[17]),t.$set(o)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){t0(t,e)}}}function T0(a){let t,n;return t=new u0({props:{pattern:a[17],classname:"row",sectionId:"treadling",parentIndex:a[19]}}),t.$on("update",a[3]),{c(){Z(t.$$.fragment)},l(e){$(t.$$.fragment,e)},m(e,l){e0(t,e,l),n=!0},p(e,l){const o={};l&4&&(o.pattern=e[17]),t.$set(o)},i(e){n||(B(t.$$.fragment,e),n=!0)},o(e){z(t.$$.fragment,e),n=!1},d(e){t0(t,e)}}}function Z0(a){let t,n,e,l,o,s,m,r,T,g,S,b,V,n0,N,J,r0,M,l0,u,p,U,I,A,G;r=new g0({props:{pattern:a[2].colorWarps,classname:"row reverse",sectionId:"colorWarps",interactive:!0}}),r.$on("update",a[4]);let L=R(a[2].threading),k=[];for(let i=0;i<L.length;i+=1)k[i]=N0(z0(a,L,i));const h0=i=>z(k[i],1,1,()=>{k[i]=null});let F=R(a[2].tieup),D=[];for(let i=0;i<F.length;i+=1)D[i]=O0(q0(a,F,i));const x=i=>z(D[i],1,1,()=>{D[i]=null});let h=R(a[0]),c=[];for(let i=0;i<h.length;i+=1)c[i]=R0(x0(a,h,i));const M0=i=>z(c[i],1,1,()=>{c[i]=null});let H=R(a[2].treadling),W=[];for(let i=0;i<H.length;i+=1)W[i]=T0(V0(a,H,i));const j0=i=>z(W[i],1,1,()=>{W[i]=null});return p=new g0({props:{pattern:a[2].colorWefts,classname:"col",sectionId:"colorWefts",interactive:!0}}),p.$on("update",a[4]),A=new u0({props:{pattern:a[2].checklist,classname:"col",sectionId:"checklist"}}),A.$on("update",a[3]),{c(){t=y("div"),n=D0("Updated "),e=D0(A0),l=K(),o=y("div"),s=y("div"),m=y("div"),Z(r.$$.fragment),T=K(),g=y("div"),S=y("div");for(let i=0;i<k.length;i+=1)k[i].c();b=K(),V=y("div");for(let i=0;i<D.length;i+=1)D[i].c();n0=K(),N=y("div"),J=y("div");for(let i=0;i<c.length;i+=1)c[i].c();r0=K(),M=y("div");for(let i=0;i<W.length;i+=1)W[i].c();l0=K(),u=y("div"),Z(p.$$.fragment),U=K(),I=y("div"),Z(A.$$.fragment),this.h()},l(i){t=C(i,"DIV",{id:!0});var d=P(t);n=W0(d,"Updated "),e=W0(d,A0),d.forEach(w),l=X(i),o=C(i,"DIV",{id:!0});var v=P(o);s=C(v,"DIV",{class:!0});var s0=P(s);m=C(s0,"DIV",{id:!0,class:!0});var o0=P(m);$(r.$$.fragment,o0),o0.forEach(w),s0.forEach(w),T=X(v),g=C(v,"DIV",{class:!0});var f=P(g);S=C(f,"DIV",{id:!0,class:!0});var O=P(S);for(let q=0;q<k.length;q+=1)k[q].l(O);O.forEach(w),b=X(f),V=C(f,"DIV",{id:!0,class:!0});var v0=P(V);for(let q=0;q<D.length;q+=1)D[q].l(v0);v0.forEach(w),f.forEach(w),n0=X(v),N=C(v,"DIV",{class:!0});var Q=P(N);J=C(Q,"DIV",{id:!0,class:!0});var I0=P(J);for(let q=0;q<c.length;q+=1)c[q].l(I0);I0.forEach(w),r0=X(Q),M=C(Q,"DIV",{id:!0,class:!0});var w0=P(M);for(let q=0;q<W.length;q+=1)W[q].l(w0);w0.forEach(w),l0=X(Q),u=C(Q,"DIV",{id:!0,class:!0});var b0=P(u);$(p.$$.fragment,b0),b0.forEach(w),U=X(Q),I=C(Q,"DIV",{id:!0,class:!0});var k0=P(I);$(A.$$.fragment,k0),k0.forEach(w),Q.forEach(w),v.forEach(w),this.h()},h(){_(t,"id","lastUpdate"),d0(t,"show",a[1]),_(m,"id","colorWarps"),_(m,"class","container borderless"),_(s,"class","row"),_(S,"id","threading"),_(S,"class","container dots"),_(V,"id","tieup"),_(V,"class","container dots"),_(g,"class","row sticky"),_(J,"id","drawdown"),_(J,"class","container borderless"),_(M,"id","treadling"),_(M,"class","container dots"),_(u,"id","colorWefts"),_(u,"class","container borderless"),_(I,"id","checklist"),_(I,"class","container borderless"),_(N,"class","row"),_(o,"id","canvas")},m(i,d){j(i,t,d),E(t,n),E(t,e),j(i,l,d),j(i,o,d),E(o,s),E(s,m),e0(r,m,null),E(o,T),E(o,g),E(g,S);for(let v=0;v<k.length;v+=1)k[v]&&k[v].m(S,null);E(g,b),E(g,V);for(let v=0;v<D.length;v+=1)D[v]&&D[v].m(V,null);E(o,n0),E(o,N),E(N,J);for(let v=0;v<c.length;v+=1)c[v]&&c[v].m(J,null);E(N,r0),E(N,M);for(let v=0;v<W.length;v+=1)W[v]&&W[v].m(M,null);E(N,l0),E(N,u),e0(p,u,null),E(N,U),E(N,I),e0(A,I,null),G=!0},p(i,[d]){(!G||d&2)&&d0(t,"show",i[1]);const v={};if(d&4&&(v.pattern=i[2].colorWarps),r.$set(v),d&12){L=R(i[2].threading);let f;for(f=0;f<L.length;f+=1){const O=z0(i,L,f);k[f]?(k[f].p(O,d),B(k[f],1)):(k[f]=N0(O),k[f].c(),B(k[f],1),k[f].m(S,null))}for(i0(),f=L.length;f<k.length;f+=1)h0(f);a0()}if(d&12){F=R(i[2].tieup);let f;for(f=0;f<F.length;f+=1){const O=q0(i,F,f);D[f]?(D[f].p(O,d),B(D[f],1)):(D[f]=O0(O),D[f].c(),B(D[f],1),D[f].m(V,null))}for(i0(),f=F.length;f<D.length;f+=1)x(f);a0()}if(d&1){h=R(i[0]);let f;for(f=0;f<h.length;f+=1){const O=x0(i,h,f);c[f]?(c[f].p(O,d),B(c[f],1)):(c[f]=R0(O),c[f].c(),B(c[f],1),c[f].m(J,null))}for(i0(),f=h.length;f<c.length;f+=1)M0(f);a0()}if(d&12){H=R(i[2].treadling);let f;for(f=0;f<H.length;f+=1){const O=V0(i,H,f);W[f]?(W[f].p(O,d),B(W[f],1)):(W[f]=T0(O),W[f].c(),B(W[f],1),W[f].m(M,null))}for(i0(),f=H.length;f<W.length;f+=1)j0(f);a0()}const s0={};d&4&&(s0.pattern=i[2].colorWefts),p.$set(s0);const o0={};d&4&&(o0.pattern=i[2].checklist),A.$set(o0)},i(i){if(!G){B(r.$$.fragment,i);for(let d=0;d<L.length;d+=1)B(k[d]);for(let d=0;d<F.length;d+=1)B(D[d]);for(let d=0;d<h.length;d+=1)B(c[d]);for(let d=0;d<H.length;d+=1)B(W[d]);B(p.$$.fragment,i),B(A.$$.fragment,i),G=!0}},o(i){z(r.$$.fragment,i),k=k.filter(Boolean);for(let d=0;d<k.length;d+=1)z(k[d]);D=D.filter(Boolean);for(let d=0;d<D.length;d+=1)z(D[d]);c=c.filter(Boolean);for(let d=0;d<c.length;d+=1)z(c[d]);W=W.filter(Boolean);for(let d=0;d<W.length;d+=1)z(W[d]);z(p.$$.fragment,i),z(A.$$.fragment,i),G=!1},d(i){i&&(w(t),w(l),w(o)),t0(r),Y(k,i),Y(D,i),Y(c,i),Y(W,i),t0(p),t0(A)}}}function $0(a,t,n){const e=["a","b","c","d"];let l,o=[],s=[],m=!1;o[0]='{"v":0.1,"pattern":0,"colorA":"#222222","colorB":"#eeeeee","colorC":"#7f7f7f","colorD":"#444","shafts":4,"wefts":32,"warps":56,"tieups":4,"threading":[[1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,0,1,0,1,0,1,0,1,0,0,0,0,1,0,0,1,0,1,0],[0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,1,0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,1,0,1],[0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0]],"treadling":[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,0],[0,0,0,1],[0,0,1,0]],"tieup":[[1,1,0,0],[0,1,1,0],[0,0,1,1],[1,0,0,1]],"colorWefts":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colorWarps":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"checklist":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"size":20}',o[1]='{"v":0.1,"pattern":1,"colorA":"#ff5625","colorB":"#fff048","colorC":"#ffffff","colorD":"#ff26a4","shafts":4,"wefts":50,"warps":72,"tieups":6,"threading":[[1,0,1,0,0,0,0,0,1,0,0,1,0,1,0,1,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,0,1,0,1,0,1,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,1,0,1,0,1,0,1],[0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0],[0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0]],"treadling":[[1,1,0,0,0,0],[1,1,0,0,0,0],[0,0,1,1,0,0],[0,0,1,1,0,0],[0,0,1,1,0,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,1,0,0,0,0],[0,1,0,0,0,0],[0,1,1,0,0,0],[0,0,1,0,0,0],[0,0,1,1,0,0],[0,0,0,1,0,0],[0,0,0,1,0,0],[1,0,1,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[0,1,0,0,0,0],[0,1,0,0,0,0],[0,1,0,0,0,0],[0,1,0,1,0,0],[0,0,0,1,0,0],[0,0,0,1,0,0],[0,0,0,1,0,0],[0,0,0,1,0,1],[0,0,0,1,0,1],[0,0,0,0,0,1],[1,0,0,0,0,1],[1,0,0,1,0,1],[1,0,0,1,0,0],[0,0,0,1,0,0],[0,0,1,1,0,0],[0,0,1,1,0,0],[0,0,1,1,0,0],[0,0,1,0,0,0],[0,0,1,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,0]],"tieup":[[0,1,1,1],[0,0,1,1],[1,0,0,1],[1,1,0,0],[1,0,1,0],[0,1,1,0]],"colorWefts":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colorWarps":[0,2,0,2,0,2,0,3,0,3,0,3,0,2,2,2,2,0,0,0,0,3,3,3,3,0,0,0,0,1,2,1,2,1,0,0,0,0,1,3,1,3,1,3,1,0,0,2,1,0,2,1,0,2,1,0,2,1,0,3,0,3,0,3,0,2,0,2,0,2,0,0],"checklist":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"size":16}',o[2]='{"v":0.1,"pattern":2,"colorA":"#0082ff","colorB":"#ffccb8","colorC":"#7f7f7f","colorD":"#444","shafts":6,"wefts":44,"warps":60,"tieups":6,"threading":[[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0],[0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]],"treadling":[[1,0,0,0,0,0],[0,1,1,0,0,0],[0,0,1,1,0,0],[0,0,0,1,1,0],[0,0,0,0,1,0],[0,0,0,0,0,1],[1,1,1,0,0,0],[0,1,1,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1],[1,1,1,0,0,0],[0,1,1,1,0,0],[0,0,1,1,1,0],[0,0,0,1,1,1],[0,0,0,0,1,1],[1,1,1,0,0,0],[0,1,1,1,0,0],[0,0,1,1,1,0],[0,0,0,1,1,1],[0,0,0,0,1,1],[1,1,0,0,0,0],[0,1,1,0,0,0],[0,0,1,1,0,0],[0,0,0,1,1,0],[0,0,0,0,1,1],[1,1,0,0,0,0],[0,1,1,0,0,0],[0,0,1,1,0,0],[0,0,0,1,1,0],[0,0,0,0,1,1],[1,0,0,0,0,0],[0,1,0,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1],[1,0,0,0,0,0],[0,1,0,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1]],"tieup":[[1,0,0,0,0,0],[0,1,0,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1]],"colorWefts":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colorWarps":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"checklist":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"size":18}';let r={v:.1,pattern:0,colorA:"#f0e130",colorB:"#303ff0",colorC:"#FF007F",colorD:"#444",shafts:2,wefts:24,warps:24,tieups:4,threading:[],treadling:[],tieup:[],colorWefts:[],colorWarps:[],checklist:[],size:20},T=null,g=null,S=null;F0(()=>{l=document.documentElement,n(1,m=!0),setTimeout(function(){n(1,m=!1)},8e3),L0(()=>import("../chunks/tweakpane.834ceedf.js"),[],import.meta.url).then(u=>{T&&T.dispose(),T=new u.Pane,g=T.addFolder({title:"Settings"}),N()})});const b=()=>{window.localStorage.setItem("preset",JSON.stringify(r))},V=()=>{l0(),n(2,r),b()},n0=()=>{const u=g.addBlade({view:"list",label:"pattern",options:[{text:"00",value:0},{text:"01",value:1},{text:"02",value:2}],value:r.pattern}),p=g.addBinding(r,"colorA"),U=g.addBinding(r,"colorB"),I=g.addBinding(r,"colorC"),A=g.addBinding(r,"colorD"),G=g.addBinding(r,"shafts",{min:2,max:12,step:1}),L=g.addBinding(r,"warps",{min:10,max:120,step:2}),k=g.addBinding(r,"wefts",{min:10,max:120,step:2}),h0=g.addBinding(r,"tieups",{min:4,max:12,step:1}),F=g.addBinding(r,"size",{min:8,max:32,step:2}),D=g.addButton({title:"Reset"});u.on("change",x=>{const h=JSON.parse(o[x.value]);for(let c in h)n(2,r[c]=h[c],r);T.refresh(),V()}),p.on("change",x=>{l.style.setProperty("--color-a",r.colorA),b()}),U.on("change",x=>{l.style.setProperty("--color-b",r.colorB),b()}),I.on("change",x=>{l.style.setProperty("--color-c",r.colorC),b()}),A.on("change",x=>{l.style.setProperty("--color-d",r.colorD),b()}),F.on("change",x=>{l.style.setProperty("--box-size",r.size+"px"),b()}),G.on("change",x=>{clearInterval(S),S=setTimeout(function(){const h=x.value-r.threading.length;if(console.log(h),h!=0){if(h>0){for(let c=0;c<h;c++)r.threading.push(Array(r.warps).fill(0));for(let c=0;c<r.tieup.length;c++)r.tieup[c].push(...Array(h).fill(0))}else{for(let c=0;c<Math.abs(h);c++)r.threading.pop();for(let c=0;c<r.tieup.length;c++)r.tieup[c].splice(r.tieup[c].length+h,-h)}n(2,r),n(2,r),V()}},300)}),L.on("change",x=>{clearInterval(S),S=setTimeout(function(){const h=x.value-r.threading[0].length;if(console.log(h),h!=0){if(h>0){for(let c=0;c<r.threading.length;c++)r.threading[c].push(...Array(h).fill(0));r.colorWarps.push(...Array(h).fill(0))}else{for(let c=0;c<r.threading.length;c++)r.threading[c].splice(r.threading[c].length+h,-h);r.colorWarps.splice(r.colorWarps.length+h,-h)}V()}},300)}),k.on("change",x=>{clearInterval(S),S=setTimeout(function(){const h=x.value-r.treadling.length;if(h!=0){if(h>0){for(let c=0;c<h;c++)r.treadling.push(Array(r.tieups).fill(0));r.colorWefts.push(...Array(h).fill(1))}else{for(let c=0;c<Math.abs(h);c++)r.treadling.pop();r.colorWefts.splice(r.colorWefts.length+h,-h)}V()}},300)}),h0.on("change",x=>{clearInterval(S),S=setTimeout(function(){const h=x.value-r.tieup.length;if(h!=0){if(h>0){for(let c=0;c<h;c++)r.tieup.push(Array(r.shafts).fill(0));for(let c=0;c<r.treadling.length;c++)r.treadling[c].push(...Array(h).fill(0))}else{for(let c=0;c<Math.abs(h);c++)r.tieup.pop();for(let c=0;c<r.treadling.length;c++)r.treadling[c].splice(r.treadling[c].length+h,-h)}n(2,r),V()}},300)}),D.on("click",()=>{n(2,r=JSON.parse(o[r.pattern])),window.localStorage.clear(),b(),location.reload()})},N=()=>{const u=window.localStorage.getItem("preset");console.log("preset",u),console.log("PARAMS",r.shafts);let p=!1;u!=null&&JSON.parse(u).v==r.v&&(p=!0,window.localStorage.clear()),n(2,r=JSON.parse(p?u:o[0])),n0(),l.style.setProperty("--color-a",r.colorA),l.style.setProperty("--color-b",r.colorB),l.style.setProperty("--color-c",r.colorC),l.style.setProperty("--color-d",r.colorD),l.style.setProperty("--box-size",r.size+"px"),l0()},J=u=>{let p=r[u.detail.sectionId][u.detail.index];u.detail.sectionId=="checklist"?(p=p==0?1:0,n(2,r[u.detail.sectionId][u.detail.index]=p,r)):(p=r[u.detail.sectionId][u.detail.parentIndex][u.detail.index],p=p==0?1:0,n(2,r[u.detail.sectionId][u.detail.parentIndex][u.detail.index]=p,r)),V()},r0=u=>{let p=r[u.detail.sectionId][u.detail.index];p=p<e.length-1?p+1:0,n(2,r[u.detail.sectionId][u.detail.index]=p,r),V()},M=()=>{let u=[];for(let p=0;p<r.wefts;p++){let U=[];for(let I=0;I<r.warps;I++)U.push(0);u.push(U)}return u},l0=()=>{n(0,s=M());for(let u=0;u<r.wefts;u++){const p=Array(r.shafts).fill(0);let U=!1;for(let I=0;I<r.treadling[u].length;I++)if(r.treadling[u][I]==1)for(let A=0;A<r.tieup[I].length;A++)r.tieup[I][A]==1&&(p[A]=1,U=!0);for(let I=0;I<r.warps;I++)if(U){n(0,s[u][I]=r.colorWefts[u],s);for(let A=0;A<r.shafts;A++)p[A]==1&&r.threading[A][I]==1&&n(0,s[u][I]=r.colorWarps[I],s)}else n(0,s[u][I]=r.colorWarps[I],s)}};return[s,m,r,J,r0]}class re extends _0{constructor(t){super(),m0(this,t,$0,Z0,p0,{})}}export{re as component};
