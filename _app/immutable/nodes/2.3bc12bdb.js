import{_ as N0}from"../chunks/preload-helper.a4192956.js";import{s as u0,f as P,g as V,h as x,d as W,j as _,i as U,z as s0,B as q0,e as o0,C as $,D as z0,E as I0,a as Y,c as Z,y as C,o as O0}from"../chunks/scheduler.d62097a6.js";import{S as h0,i as g0,b as G,d as H,m as K,a as E,c as n0,t as z,e as X,g as r0}from"../chunks/index.186cdfe7.js";function R(o){return(o==null?void 0:o.length)!==void 0?o:Array.from(o)}function w0(o,t,r){const e=o.slice();return e[9]=t[r],e}function b0(o,t,r){const e=o.slice();return e[9]=t[r],e[11]=r,e}function R0(o){let t,r=R(o[0]),e=[];for(let l=0;l<r.length;l+=1)e[l]=k0(w0(o,r,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=o0()},l(l){for(let a=0;a<e.length;a+=1)e[a].l(l);t=o0()},m(l,a){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(l,a);U(l,t,a)},p(l,a){if(a&17){r=R(l[0]);let s;for(s=0;s<r.length;s+=1){const n=w0(l,r,s);e[s]?e[s].p(n,a):(e[s]=k0(n),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=r.length}},d(l){l&&W(t),$(e,l)}}}function J0(o){let t,r=R(o[0]),e=[];for(let l=0;l<r.length;l+=1)e[l]=D0(b0(o,r,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=o0()},l(l){for(let a=0;a<e.length;a+=1)e[a].l(l);t=o0()},m(l,a){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(l,a);U(l,t,a)},p(l,a){if(a&49){r=R(l[0]);let s;for(s=0;s<r.length;s+=1){const n=b0(l,r,s);e[s]?e[s].p(n,a):(e[s]=D0(n),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=r.length}},d(l){l&&W(t),$(e,l)}}}function k0(o){let t,r;return{c(){t=P("div"),this.h()},l(e){t=V(e,"DIV",{class:!0}),x(t).forEach(W),this.h()},h(){_(t,"class",r="box "+o[4][o[9]])},m(e,l){U(e,t,l)},p(e,l){l&1&&r!==(r="box "+e[4][e[9]])&&_(t,"class",r)},d(e){e&&W(t)}}}function D0(o){let t,r,e,l;function a(){return o[7](o[11])}return{c(){t=P("div"),this.h()},l(s){t=V(s,"DIV",{class:!0}),x(t).forEach(W),this.h()},h(){_(t,"class",r="box "+o[4][o[9]])},m(s,n){U(s,t,n),e||(l=z0(t,"click",a),e=!0)},p(s,n){o=s,n&1&&r!==(r="box "+o[4][o[9]])&&_(t,"class",r)},d(s){s&&W(t),e=!1,l()}}}function M0(o){let t;function r(a,s){return a[2]?J0:R0}let e=r(o),l=e(o);return{c(){t=P("squares"),l.c(),this.h()},l(a){t=V(a,"SQUARES",{class:!0,index:!0});var s=x(t);l.l(s),s.forEach(W),this.h()},h(){_(t,"class",o[1]),_(t,"index",o[3])},m(a,s){U(a,t,s),l.m(t,null)},p(a,[s]){e===(e=r(a))&&l?l.p(a,s):(l.d(1),l=e(a),l&&(l.c(),l.m(t,null))),s&2&&_(t,"class",a[1]),s&8&&_(t,"index",a[3])},i:s0,o:s0,d(a){a&&W(t),l.d()}}}function T0(o,t,r){let{pattern:e=[]}=t,{classname:l=""}=t,{sectionId:a=""}=t,{interactive:s=!1}=t,{index:n=-1}=t;const N=["a","b","c","d"],b=q0(),m=g=>{b("update",{sectionId:a,index:g})},S=g=>m(g);return o.$$set=g=>{"pattern"in g&&r(0,e=g.pattern),"classname"in g&&r(1,l=g.classname),"sectionId"in g&&r(6,a=g.sectionId),"interactive"in g&&r(2,s=g.interactive),"index"in g&&r(3,n=g.index)},[e,l,s,n,N,m,a,S]}class d0 extends h0{constructor(t){super(),g0(this,t,T0,M0,u0,{pattern:0,classname:1,sectionId:6,interactive:2,index:3})}}function W0(o,t,r){const e=o.slice();return e[7]=t[r],e[9]=r,e}function A0(o){let t,r,e;function l(){return o[5](o[9])}return{c(){t=P("div"),this.h()},l(a){t=V(a,"DIV",{class:!0}),x(t).forEach(W),this.h()},h(){_(t,"class","box"),I0(t,"x",o[7]===1)},m(a,s){U(a,t,s),r||(e=z0(t,"click",l),r=!0)},p(a,s){o=a,s&1&&I0(t,"x",o[7]===1)},d(a){a&&W(t),r=!1,e()}}}function j0(o){let t,r=R(o[0]),e=[];for(let l=0;l<r.length;l+=1)e[l]=A0(W0(o,r,l));return{c(){t=P("circles");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=V(l,"CIRCLES",{class:!0});var a=x(t);for(let s=0;s<e.length;s+=1)e[s].l(a);a.forEach(W),this.h()},h(){_(t,"class",o[1])},m(l,a){U(l,t,a);for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(t,null)},p(l,[a]){if(a&5){r=R(l[0]);let s;for(s=0;s<r.length;s+=1){const n=W0(l,r,s);e[s]?e[s].p(n,a):(e[s]=A0(n),e[s].c(),e[s].m(t,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=r.length}a&2&&_(t,"class",l[1])},i:s0,o:s0,d(l){l&&W(t),$(e,l)}}}function L0(o,t,r){let{pattern:e=[]}=t,{classname:l=""}=t,{sectionId:a=""}=t,{parentIndex:s=-1}=t;const n=q0(),N=m=>{n("update",{sectionId:a,index:m,parentIndex:s})},b=m=>N(m);return o.$$set=m=>{"pattern"in m&&r(0,e=m.pattern),"classname"in m&&r(1,l=m.classname),"sectionId"in m&&r(3,a=m.sectionId),"parentIndex"in m&&r(4,s=m.parentIndex)},[e,l,N,a,s,b]}class a0 extends h0{constructor(t){super(),g0(this,t,L0,j0,u0,{pattern:0,classname:1,sectionId:3,parentIndex:4})}}function S0(o,t,r){const e=o.slice();return e[15]=t[r],e[17]=r,e}function B0(o,t,r){const e=o.slice();return e[15]=t[r],e[17]=r,e}function E0(o,t,r){const e=o.slice();return e[15]=t[r],e[17]=r,e}function y0(o,t,r){const e=o.slice();return e[15]=t[r],e[17]=r,e}function C0(o){let t,r;return t=new a0({props:{pattern:o[15],classname:"row reverse",sectionId:"threading",parentIndex:o[17]}}),t.$on("update",o[2]),{c(){G(t.$$.fragment)},l(e){H(t.$$.fragment,e)},m(e,l){K(t,e,l),r=!0},p(e,l){const a={};l&2&&(a.pattern=e[15]),t.$set(a)},i(e){r||(E(t.$$.fragment,e),r=!0)},o(e){z(t.$$.fragment,e),r=!1},d(e){X(t,e)}}}function P0(o){let t,r;return t=new a0({props:{pattern:o[15],classname:"col reverse",sectionId:"tieup",parentIndex:o[17]}}),t.$on("update",o[2]),{c(){G(t.$$.fragment)},l(e){H(t.$$.fragment,e)},m(e,l){K(t,e,l),r=!0},p(e,l){const a={};l&2&&(a.pattern=e[15]),t.$set(a)},i(e){r||(E(t.$$.fragment,e),r=!0)},o(e){z(t.$$.fragment,e),r=!1},d(e){X(t,e)}}}function V0(o){let t,r;return t=new d0({props:{pattern:o[15],classname:"row reverse",sectionId:"drawdown",interactive:!1}}),{c(){G(t.$$.fragment)},l(e){H(t.$$.fragment,e)},m(e,l){K(t,e,l),r=!0},p(e,l){const a={};l&1&&(a.pattern=e[15]),t.$set(a)},i(e){r||(E(t.$$.fragment,e),r=!0)},o(e){z(t.$$.fragment,e),r=!1},d(e){X(t,e)}}}function x0(o){let t,r;return t=new a0({props:{pattern:o[15],classname:"row",sectionId:"treadling",parentIndex:o[17]}}),t.$on("update",o[2]),{c(){G(t.$$.fragment)},l(e){H(t.$$.fragment,e)},m(e,l){K(t,e,l),r=!0},p(e,l){const a={};l&2&&(a.pattern=e[15]),t.$set(a)},i(e){r||(E(t.$$.fragment,e),r=!0)},o(e){z(t.$$.fragment,e),r=!1},d(e){X(t,e)}}}function F0(o){let t,r,e,l,a,s,n,N,b,m,S,g,e0,M,t0,T,J,h,p,y,D;l=new d0({props:{pattern:o[1].colorWarps,classname:"row reverse",sectionId:"colorWarps",interactive:!0}}),l.$on("update",o[3]);let B=R(o[1].threading),v=[];for(let i=0;i<B.length;i+=1)v[i]=C0(y0(o,B,i));const i0=i=>z(v[i],1,1,()=>{v[i]=null});let j=R(o[1].tieup),I=[];for(let i=0;i<j.length;i+=1)I[i]=P0(E0(o,j,i));const c0=i=>z(I[i],1,1,()=>{I[i]=null});let L=R(o[0]),w=[];for(let i=0;i<L.length;i+=1)w[i]=V0(B0(o,L,i));const f0=i=>z(w[i],1,1,()=>{w[i]=null});let A=R(o[1].treadling),f=[];for(let i=0;i<A.length;i+=1)f[i]=x0(S0(o,A,i));const u=i=>z(f[i],1,1,()=>{f[i]=null});return J=new d0({props:{pattern:o[1].colorWefts,classname:"col",sectionId:"colorWefts",interactive:!0}}),J.$on("update",o[3]),y=new a0({props:{pattern:o[1].checklist,classname:"col",sectionId:"checklist"}}),y.$on("update",o[2]),{c(){t=P("div"),r=P("div"),e=P("div"),G(l.$$.fragment),a=Y(),s=P("div"),n=P("div");for(let i=0;i<v.length;i+=1)v[i].c();N=Y(),b=P("div");for(let i=0;i<I.length;i+=1)I[i].c();m=Y(),S=P("div"),g=P("div");for(let i=0;i<w.length;i+=1)w[i].c();e0=Y(),M=P("div");for(let i=0;i<f.length;i+=1)f[i].c();t0=Y(),T=P("div"),G(J.$$.fragment),h=Y(),p=P("div"),G(y.$$.fragment),this.h()},l(i){t=V(i,"DIV",{id:!0});var d=x(t);r=V(d,"DIV",{class:!0});var k=x(r);e=V(k,"DIV",{id:!0,class:!0});var l0=x(e);H(l.$$.fragment,l0),l0.forEach(W),k.forEach(W),a=Z(d),s=V(d,"DIV",{class:!0});var Q=x(s);n=V(Q,"DIV",{id:!0,class:!0});var c=x(n);for(let q=0;q<v.length;q+=1)v[q].l(c);c.forEach(W),N=Z(Q),b=V(Q,"DIV",{id:!0,class:!0});var O=x(b);for(let q=0;q<I.length;q+=1)I[q].l(O);O.forEach(W),Q.forEach(W),m=Z(d),S=V(d,"DIV",{class:!0});var F=x(S);g=V(F,"DIV",{id:!0,class:!0});var p0=x(g);for(let q=0;q<w.length;q+=1)w[q].l(p0);p0.forEach(W),e0=Z(F),M=V(F,"DIV",{id:!0,class:!0});var _0=x(M);for(let q=0;q<f.length;q+=1)f[q].l(_0);_0.forEach(W),t0=Z(F),T=V(F,"DIV",{id:!0,class:!0});var m0=x(T);H(J.$$.fragment,m0),m0.forEach(W),h=Z(F),p=V(F,"DIV",{id:!0,class:!0});var v0=x(p);H(y.$$.fragment,v0),v0.forEach(W),F.forEach(W),d.forEach(W),this.h()},h(){_(e,"id","colorWarps"),_(e,"class","container borderless"),_(r,"class","row"),_(n,"id","threading"),_(n,"class","container dots"),_(b,"id","tieup"),_(b,"class","container dots"),_(s,"class","row sticky"),_(g,"id","drawdown"),_(g,"class","container borderless"),_(M,"id","treadling"),_(M,"class","container dots"),_(T,"id","colorWefts"),_(T,"class","container borderless"),_(p,"id","checklist"),_(p,"class","container borderless"),_(S,"class","row"),_(t,"id","canvas")},m(i,d){U(i,t,d),C(t,r),C(r,e),K(l,e,null),C(t,a),C(t,s),C(s,n);for(let k=0;k<v.length;k+=1)v[k]&&v[k].m(n,null);C(s,N),C(s,b);for(let k=0;k<I.length;k+=1)I[k]&&I[k].m(b,null);C(t,m),C(t,S),C(S,g);for(let k=0;k<w.length;k+=1)w[k]&&w[k].m(g,null);C(S,e0),C(S,M);for(let k=0;k<f.length;k+=1)f[k]&&f[k].m(M,null);C(S,t0),C(S,T),K(J,T,null),C(S,h),C(S,p),K(y,p,null),D=!0},p(i,[d]){const k={};if(d&2&&(k.pattern=i[1].colorWarps),l.$set(k),d&6){B=R(i[1].threading);let c;for(c=0;c<B.length;c+=1){const O=y0(i,B,c);v[c]?(v[c].p(O,d),E(v[c],1)):(v[c]=C0(O),v[c].c(),E(v[c],1),v[c].m(n,null))}for(r0(),c=B.length;c<v.length;c+=1)i0(c);n0()}if(d&6){j=R(i[1].tieup);let c;for(c=0;c<j.length;c+=1){const O=E0(i,j,c);I[c]?(I[c].p(O,d),E(I[c],1)):(I[c]=P0(O),I[c].c(),E(I[c],1),I[c].m(b,null))}for(r0(),c=j.length;c<I.length;c+=1)c0(c);n0()}if(d&1){L=R(i[0]);let c;for(c=0;c<L.length;c+=1){const O=B0(i,L,c);w[c]?(w[c].p(O,d),E(w[c],1)):(w[c]=V0(O),w[c].c(),E(w[c],1),w[c].m(g,null))}for(r0(),c=L.length;c<w.length;c+=1)f0(c);n0()}if(d&6){A=R(i[1].treadling);let c;for(c=0;c<A.length;c+=1){const O=S0(i,A,c);f[c]?(f[c].p(O,d),E(f[c],1)):(f[c]=x0(O),f[c].c(),E(f[c],1),f[c].m(M,null))}for(r0(),c=A.length;c<f.length;c+=1)u(c);n0()}const l0={};d&2&&(l0.pattern=i[1].colorWefts),J.$set(l0);const Q={};d&2&&(Q.pattern=i[1].checklist),y.$set(Q)},i(i){if(!D){E(l.$$.fragment,i);for(let d=0;d<B.length;d+=1)E(v[d]);for(let d=0;d<j.length;d+=1)E(I[d]);for(let d=0;d<L.length;d+=1)E(w[d]);for(let d=0;d<A.length;d+=1)E(f[d]);E(J.$$.fragment,i),E(y.$$.fragment,i),D=!0}},o(i){z(l.$$.fragment,i),v=v.filter(Boolean);for(let d=0;d<v.length;d+=1)z(v[d]);I=I.filter(Boolean);for(let d=0;d<I.length;d+=1)z(I[d]);w=w.filter(Boolean);for(let d=0;d<w.length;d+=1)z(w[d]);f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)z(f[d]);z(J.$$.fragment,i),z(y.$$.fragment,i),D=!1},d(i){i&&W(t),X(l),$(v,i),$(I,i),$(w,i),$(f,i),X(J),X(y)}}}function U0(o,t,r){const e=["a","b","c","d"];let l,a=[],s=[];a[0]='{"v":0.1,"pattern":0,"colorA":"#222222","colorB":"#eeeeee","colorC":"#7f7f7f","colorD":"#444","shafts":4,"wefts":32,"warps":56,"tieups":4,"threading":[[1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,0,1,0,1,0,1,0,1,0,0,0,0,1,0,0,1,0,1,0],[0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,1,0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,1,0,1],[0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0]],"treadling":[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,0],[0,0,0,1],[0,0,1,0]],"tieup":[[1,1,0,0],[0,1,1,0],[0,0,1,1],[1,0,0,1]],"colorWefts":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colorWarps":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"checklist":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"size":20}',a[1]='{"v":0.1,"pattern":1,"colorA":"#ff5625","colorB":"#fff048","colorC":"#ffffff","colorD":"#ff26a4","shafts":4,"wefts":50,"warps":72,"tieups":6,"threading":[[1,0,1,0,0,0,0,0,1,0,0,1,0,1,0,1,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,0,1,0,1,0,1,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,1,0,1,0,1,0,1],[0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0],[0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0]],"treadling":[[1,1,0,0,0,0],[1,1,0,0,0,0],[0,0,1,1,0,0],[0,0,1,1,0,0],[0,0,1,1,0,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,1,0,0,0,0],[0,1,0,0,0,0],[0,1,1,0,0,0],[0,0,1,0,0,0],[0,0,1,1,0,0],[0,0,0,1,0,0],[0,0,0,1,0,0],[1,0,1,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[0,1,0,0,0,0],[0,1,0,0,0,0],[0,1,0,0,0,0],[0,1,0,1,0,0],[0,0,0,1,0,0],[0,0,0,1,0,0],[0,0,0,1,0,0],[0,0,0,1,0,1],[0,0,0,1,0,1],[0,0,0,0,0,1],[1,0,0,0,0,1],[1,0,0,1,0,1],[1,0,0,1,0,0],[0,0,0,1,0,0],[0,0,1,1,0,0],[0,0,1,1,0,0],[0,0,1,1,0,0],[0,0,1,0,0,0],[0,0,1,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,0]],"tieup":[[0,1,1,1],[0,0,1,1],[1,0,0,1],[1,1,0,0],[1,0,1,0],[0,1,1,0]],"colorWefts":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colorWarps":[0,2,0,2,0,2,0,3,0,3,0,3,0,2,2,2,2,0,0,0,0,3,3,3,3,0,0,0,0,1,2,1,2,1,0,0,0,0,1,3,1,3,1,3,1,0,0,2,1,0,2,1,0,2,1,0,2,1,0,3,0,3,0,3,0,2,0,2,0,2,0,0],"checklist":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"size":16}',a[2]='{"v":0.1,"pattern":2,"colorA":"#0082ff","colorB":"#ffccb8","colorC":"#7f7f7f","colorD":"#444","shafts":6,"wefts":44,"warps":60,"tieups":6,"threading":[[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0],[0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]],"treadling":[[1,0,0,0,0,0],[0,1,1,0,0,0],[0,0,1,1,0,0],[0,0,0,1,1,0],[0,0,0,0,1,0],[0,0,0,0,0,1],[1,1,1,0,0,0],[0,1,1,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1],[1,1,1,0,0,0],[0,1,1,1,0,0],[0,0,1,1,1,0],[0,0,0,1,1,1],[0,0,0,0,1,1],[1,1,1,0,0,0],[0,1,1,1,0,0],[0,0,1,1,1,0],[0,0,0,1,1,1],[0,0,0,0,1,1],[1,1,0,0,0,0],[0,1,1,0,0,0],[0,0,1,1,0,0],[0,0,0,1,1,0],[0,0,0,0,1,1],[1,1,0,0,0,0],[0,1,1,0,0,0],[0,0,1,1,0,0],[0,0,0,1,1,0],[0,0,0,0,1,1],[1,0,0,0,0,0],[0,1,0,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1],[1,0,0,0,0,0],[0,1,0,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1]],"tieup":[[1,0,0,0,0,0],[0,1,0,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1]],"colorWefts":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colorWarps":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"checklist":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"size":18}';let n={v:.1,pattern:0,colorA:"#f0e130",colorB:"#303ff0",colorC:"#FF007F",colorD:"#444",shafts:2,wefts:24,warps:24,tieups:4,threading:[],treadling:[],tieup:[],colorWefts:[],colorWarps:[],checklist:[],size:20},N=null,b=null,m=null;O0(()=>{l=document.documentElement,N0(()=>import("../chunks/tweakpane.834ceedf.js"),[],import.meta.url).then(h=>{N&&N.dispose(),N=new h.Pane,b=N.addFolder({title:"Settings"}),e0()})});const S=()=>{window.localStorage.setItem("preset",JSON.stringify(n))},g=()=>{J(),r(1,n),S()},e0=()=>{const h=window.localStorage.getItem("preset");console.log("preset",h),console.log("PARAMS",n.shafts);let p=!1;h!=null&&JSON.parse(h).v==n.v&&(p=!0,window.localStorage.clear()),r(1,n=JSON.parse(p?h:a[0]));const y=b.addBlade({view:"list",label:"pattern",options:[{text:"00",value:0},{text:"01",value:1},{text:"02",value:2}],value:n.pattern}),D=b.addBinding(n,"colorA"),B=b.addBinding(n,"colorB"),v=b.addBinding(n,"colorC"),i0=b.addBinding(n,"colorD"),j=b.addBinding(n,"shafts",{min:2,max:12,step:1}),I=b.addBinding(n,"warps",{min:10,max:120,step:2}),c0=b.addBinding(n,"wefts",{min:10,max:120,step:2}),L=b.addBinding(n,"tieups",{min:4,max:12,step:1}),w=b.addBinding(n,"size",{min:8,max:32,step:2}),f0=b.addButton({title:"Reset"});y.on("change",A=>{const f=JSON.parse(a[A.value]);for(let u in f)r(1,n[u]=f[u],n);N.refresh(),g()}),D.on("change",A=>{l.style.setProperty("--color-a",n.colorA),S()}),B.on("change",A=>{l.style.setProperty("--color-b",n.colorB),S()}),v.on("change",A=>{l.style.setProperty("--color-c",n.colorC),S()}),i0.on("change",A=>{l.style.setProperty("--color-d",n.colorD),S()}),w.on("change",A=>{l.style.setProperty("--box-size",n.size+"px"),S()}),j.on("change",A=>{clearInterval(m),m=setTimeout(function(){const f=A.value-n.threading.length;if(console.log(f),f!=0){if(f>0){for(let u=0;u<f;u++)n.threading.push(Array(n.warps).fill(0));for(let u=0;u<n.tieup.length;u++)n.tieup[u].push(...Array(f).fill(0))}else{for(let u=0;u<Math.abs(f);u++)n.threading.pop();for(let u=0;u<n.tieup.length;u++)n.tieup[u].splice(n.tieup[u].length+f,-f)}r(1,n),r(1,n),g()}},300)}),I.on("change",A=>{clearInterval(m),m=setTimeout(function(){const f=A.value-n.threading[0].length;if(console.log(f),f!=0){if(f>0){for(let u=0;u<n.threading.length;u++)n.threading[u].push(...Array(f).fill(0));n.colorWarps.push(...Array(f).fill(0))}else{for(let u=0;u<n.threading.length;u++)n.threading[u].splice(n.threading[u].length+f,-f);n.colorWarps.splice(n.colorWarps.length+f,-f)}g()}},300)}),c0.on("change",A=>{clearInterval(m),m=setTimeout(function(){const f=A.value-n.treadling.length;if(f!=0){if(f>0){for(let u=0;u<f;u++)n.treadling.push(Array(n.tieups).fill(0));n.colorWefts.push(...Array(f).fill(1))}else{for(let u=0;u<Math.abs(f);u++)n.treadling.pop();n.colorWefts.splice(n.colorWefts.length+f,-f)}g()}},300)}),L.on("change",A=>{clearInterval(m),m=setTimeout(function(){const f=A.value-n.tieup.length;if(f!=0){if(f>0){for(let u=0;u<f;u++)n.tieup.push(Array(n.shafts).fill(0));for(let u=0;u<n.treadling.length;u++)n.treadling[u].push(...Array(f).fill(0))}else{for(let u=0;u<Math.abs(f);u++)n.tieup.pop();for(let u=0;u<n.treadling.length;u++)n.treadling[u].splice(n.treadling[u].length+f,-f)}r(1,n),g()}},300)}),f0.on("click",()=>{r(1,n=JSON.parse(a[n.pattern])),window.localStorage.clear(),S(),location.reload()}),l.style.setProperty("--color-a",n.colorA),l.style.setProperty("--color-b",n.colorB),l.style.setProperty("--color-c",n.colorC),l.style.setProperty("--color-d",n.colorD),l.style.setProperty("--box-size",n.size+"px"),J()},M=h=>{let p=n[h.detail.sectionId][h.detail.index];h.detail.sectionId=="checklist"?(p=p==0?1:0,r(1,n[h.detail.sectionId][h.detail.index]=p,n)):(p=n[h.detail.sectionId][h.detail.parentIndex][h.detail.index],p=p==0?1:0,r(1,n[h.detail.sectionId][h.detail.parentIndex][h.detail.index]=p,n)),g()},t0=h=>{let p=n[h.detail.sectionId][h.detail.index];p=p<e.length-1?p+1:0,r(1,n[h.detail.sectionId][h.detail.index]=p,n),g()},T=()=>{let h=[];for(let p=0;p<n.wefts;p++){let y=[];for(let D=0;D<n.warps;D++)y.push(0);h.push(y)}return h},J=()=>{r(0,s=T());for(let h=0;h<n.wefts;h++){const p=Array(n.shafts).fill(0);let y=!1;for(let D=0;D<n.treadling[h].length;D++)if(n.treadling[h][D]==1)for(let B=0;B<n.tieup[D].length;B++)n.tieup[D][B]==1&&(p[B]=1,y=!0);for(let D=0;D<n.warps;D++)if(y){r(0,s[h][D]=n.colorWefts[h],s);for(let B=0;B<n.shafts;B++)p[B]==1&&n.threading[B][D]==1&&r(0,s[h][D]=n.colorWarps[D],s)}else r(0,s[h][D]=n.colorWarps[D],s)}};return[s,n,M,t0]}class H0 extends h0{constructor(t){super(),g0(this,t,U0,F0,u0,{})}}export{H0 as component};
