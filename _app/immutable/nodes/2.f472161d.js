import{_ as L0}from"../chunks/preload-helper.a4192956.js";import{s as _0,f as P,g as V,h as x,d as I,j as p,i as L,z as c0,B as J0,e as f0,C as Z,D as M0,E as d0,l as W0,a as X,m as A0,c as Y,y,o as F0}from"../chunks/scheduler.d62097a6.js";import{S as m0,i as v0,b as $,d as e0,m as t0,a as E,c as a0,t as N,e as l0,g as i0}from"../chunks/index.186cdfe7.js";import{v as S0}from"../chunks/environment.9e0b1bba.js";function T(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function B0(a,t,n){const e=a.slice();return e[9]=t[n],e}function E0(a,t,n){const e=a.slice();return e[9]=t[n],e[11]=n,e}function Q0(a){let t,n=T(a[0]),e=[];for(let l=0;l<n.length;l+=1)e[l]=y0(B0(a,n,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=f0()},l(l){for(let o=0;o<e.length;o+=1)e[o].l(l);t=f0()},m(l,o){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(l,o);L(l,t,o)},p(l,o){if(o&17){n=T(l[0]);let s;for(s=0;s<n.length;s+=1){const _=B0(l,n,s);e[s]?e[s].p(_,o):(e[s]=y0(_),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}},d(l){l&&I(t),Z(e,l)}}}function G0(a){let t,n=T(a[0]),e=[];for(let l=0;l<n.length;l+=1)e[l]=C0(E0(a,n,l));return{c(){for(let l=0;l<e.length;l+=1)e[l].c();t=f0()},l(l){for(let o=0;o<e.length;o+=1)e[o].l(l);t=f0()},m(l,o){for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(l,o);L(l,t,o)},p(l,o){if(o&49){n=T(l[0]);let s;for(s=0;s<n.length;s+=1){const _=E0(l,n,s);e[s]?e[s].p(_,o):(e[s]=C0(_),e[s].c(),e[s].m(t.parentNode,t))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}},d(l){l&&I(t),Z(e,l)}}}function y0(a){let t,n;return{c(){t=P("div"),this.h()},l(e){t=V(e,"DIV",{class:!0}),x(t).forEach(I),this.h()},h(){p(t,"class",n="box "+a[4][a[9]])},m(e,l){L(e,t,l)},p(e,l){l&1&&n!==(n="box "+e[4][e[9]])&&p(t,"class",n)},d(e){e&&I(t)}}}function C0(a){let t,n,e,l;function o(){return a[7](a[11])}return{c(){t=P("div"),this.h()},l(s){t=V(s,"DIV",{class:!0}),x(t).forEach(I),this.h()},h(){p(t,"class",n="box "+a[4][a[9]])},m(s,_){L(s,t,_),e||(l=M0(t,"click",o),e=!0)},p(s,_){a=s,_&1&&n!==(n="box "+a[4][a[9]])&&p(t,"class",n)},d(s){s&&I(t),e=!1,l()}}}function H0(a){let t;function n(o,s){return o[2]?G0:Q0}let e=n(a),l=e(a);return{c(){t=P("squares"),l.c(),this.h()},l(o){t=V(o,"SQUARES",{class:!0,index:!0});var s=x(t);l.l(s),s.forEach(I),this.h()},h(){p(t,"class",a[1]),p(t,"index",a[3])},m(o,s){L(o,t,s),l.m(t,null)},p(o,[s]){e===(e=n(o))&&l?l.p(o,s):(l.d(1),l=e(o),l&&(l.c(),l.m(t,null))),s&2&&p(t,"class",o[1]),s&8&&p(t,"index",o[3])},i:c0,o:c0,d(o){o&&I(t),l.d()}}}function K0(a,t,n){let{pattern:e=[]}=t,{classname:l=""}=t,{sectionId:o=""}=t,{interactive:s=!1}=t,{index:_=-1}=t;const r=["a","b","c","d"],U=J0(),g=w=>{U("update",{sectionId:o,index:w})},S=w=>g(w);return a.$$set=w=>{"pattern"in w&&n(0,e=w.pattern),"classname"in w&&n(1,l=w.classname),"sectionId"in w&&n(6,o=w.sectionId),"interactive"in w&&n(2,s=w.interactive),"index"in w&&n(3,_=w.index)},[e,l,s,_,r,g,o,S]}class p0 extends m0{constructor(t){super(),v0(this,t,K0,H0,_0,{pattern:0,classname:1,sectionId:6,interactive:2,index:3})}}function P0(a,t,n){const e=a.slice();return e[7]=t[n],e[9]=n,e}function V0(a){let t,n,e;function l(){return a[5](a[9])}return{c(){t=P("div"),this.h()},l(o){t=V(o,"DIV",{class:!0}),x(t).forEach(I),this.h()},h(){p(t,"class","box"),d0(t,"x",a[7]===1)},m(o,s){L(o,t,s),n||(e=M0(t,"click",l),n=!0)},p(o,s){a=o,s&1&&d0(t,"x",a[7]===1)},d(o){o&&I(t),n=!1,e()}}}function X0(a){let t,n=T(a[0]),e=[];for(let l=0;l<n.length;l+=1)e[l]=V0(P0(a,n,l));return{c(){t=P("circles");for(let l=0;l<e.length;l+=1)e[l].c();this.h()},l(l){t=V(l,"CIRCLES",{class:!0});var o=x(t);for(let s=0;s<e.length;s+=1)e[s].l(o);o.forEach(I),this.h()},h(){p(t,"class",a[1])},m(l,o){L(l,t,o);for(let s=0;s<e.length;s+=1)e[s]&&e[s].m(t,null)},p(l,[o]){if(o&5){n=T(l[0]);let s;for(s=0;s<n.length;s+=1){const _=P0(l,n,s);e[s]?e[s].p(_,o):(e[s]=V0(_),e[s].c(),e[s].m(t,null))}for(;s<e.length;s+=1)e[s].d(1);e.length=n.length}o&2&&p(t,"class",l[1])},i:c0,o:c0,d(l){l&&I(t),Z(e,l)}}}function Y0(a,t,n){let{pattern:e=[]}=t,{classname:l=""}=t,{sectionId:o=""}=t,{parentIndex:s=-1}=t;const _=J0(),r=g=>{_("update",{sectionId:o,index:g,parentIndex:s})},U=g=>r(g);return a.$$set=g=>{"pattern"in g&&n(0,e=g.pattern),"classname"in g&&n(1,l=g.classname),"sectionId"in g&&n(3,o=g.sectionId),"parentIndex"in g&&n(4,s=g.parentIndex)},[e,l,r,o,s,U]}class u0 extends m0{constructor(t){super(),v0(this,t,Y0,X0,_0,{pattern:0,classname:1,sectionId:3,parentIndex:4})}}function x0(a,t,n){const e=a.slice();return e[16]=t[n],e[18]=n,e}function q0(a,t,n){const e=a.slice();return e[16]=t[n],e[18]=n,e}function z0(a,t,n){const e=a.slice();return e[16]=t[n],e[18]=n,e}function N0(a,t,n){const e=a.slice();return e[16]=t[n],e[18]=n,e}function O0(a){let t,n;return t=new u0({props:{pattern:a[16],classname:"row reverse",sectionId:"threading",parentIndex:a[18]}}),t.$on("update",a[3]),{c(){$(t.$$.fragment)},l(e){e0(t.$$.fragment,e)},m(e,l){t0(t,e,l),n=!0},p(e,l){const o={};l&4&&(o.pattern=e[16]),t.$set(o)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){N(t.$$.fragment,e),n=!1},d(e){l0(t,e)}}}function R0(a){let t,n;return t=new u0({props:{pattern:a[16],classname:"col reverse",sectionId:"tieup",parentIndex:a[18]}}),t.$on("update",a[3]),{c(){$(t.$$.fragment)},l(e){e0(t.$$.fragment,e)},m(e,l){t0(t,e,l),n=!0},p(e,l){const o={};l&4&&(o.pattern=e[16]),t.$set(o)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){N(t.$$.fragment,e),n=!1},d(e){l0(t,e)}}}function T0(a){let t,n;return t=new p0({props:{pattern:a[16],classname:"row reverse",sectionId:"drawdown",interactive:!1}}),{c(){$(t.$$.fragment)},l(e){e0(t.$$.fragment,e)},m(e,l){t0(t,e,l),n=!0},p(e,l){const o={};l&1&&(o.pattern=e[16]),t.$set(o)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){N(t.$$.fragment,e),n=!1},d(e){l0(t,e)}}}function U0(a){let t,n;return t=new u0({props:{pattern:a[16],classname:"row",sectionId:"treadling",parentIndex:a[18]}}),t.$on("update",a[3]),{c(){$(t.$$.fragment)},l(e){e0(t.$$.fragment,e)},m(e,l){t0(t,e,l),n=!0},p(e,l){const o={};l&4&&(o.pattern=e[16]),t.$set(o)},i(e){n||(E(t.$$.fragment,e),n=!0)},o(e){N(t.$$.fragment,e),n=!1},d(e){l0(t,e)}}}function Z0(a){let t,n,e,l,o,s,_,r,U,g,S,w,q,n0,O,j,r0,J,h,m,C,W,B,M,H;r=new p0({props:{pattern:a[2].colorWarps,classname:"row reverse",sectionId:"colorWarps",interactive:!0}}),r.$on("update",a[4]);let F=T(a[2].threading),b=[];for(let i=0;i<F.length;i+=1)b[i]=O0(N0(a,F,i));const h0=i=>N(b[i],1,1,()=>{b[i]=null});let Q=T(a[2].tieup),k=[];for(let i=0;i<Q.length;i+=1)k[i]=R0(z0(a,Q,i));const g0=i=>N(k[i],1,1,()=>{k[i]=null});let A=T(a[0]),f=[];for(let i=0;i<A.length;i+=1)f[i]=T0(q0(a,A,i));const u=i=>N(f[i],1,1,()=>{f[i]=null});let K=T(a[2].treadling),D=[];for(let i=0;i<K.length;i+=1)D[i]=U0(x0(a,K,i));const j0=i=>N(D[i],1,1,()=>{D[i]=null});return C=new p0({props:{pattern:a[2].colorWefts,classname:"col",sectionId:"colorWefts",interactive:!0}}),C.$on("update",a[4]),M=new u0({props:{pattern:a[2].checklist,classname:"col",sectionId:"checklist"}}),M.$on("update",a[3]),{c(){t=P("div"),n=W0("Updated "),e=W0(S0),l=X(),o=P("div"),s=P("div"),_=P("div"),$(r.$$.fragment),U=X(),g=P("div"),S=P("div");for(let i=0;i<b.length;i+=1)b[i].c();w=X(),q=P("div");for(let i=0;i<k.length;i+=1)k[i].c();n0=X(),O=P("div"),j=P("div");for(let i=0;i<f.length;i+=1)f[i].c();r0=X(),J=P("div");for(let i=0;i<D.length;i+=1)D[i].c();h=X(),m=P("div"),$(C.$$.fragment),W=X(),B=P("div"),$(M.$$.fragment),this.h()},l(i){t=V(i,"DIV",{id:!0});var d=x(t);n=A0(d,"Updated "),e=A0(d,S0),d.forEach(I),l=Y(i),o=V(i,"DIV",{id:!0});var v=x(o);s=V(v,"DIV",{class:!0});var s0=x(s);_=V(s0,"DIV",{id:!0,class:!0});var o0=x(_);e0(r.$$.fragment,o0),o0.forEach(I),s0.forEach(I),U=Y(v),g=V(v,"DIV",{class:!0});var c=x(g);S=V(c,"DIV",{id:!0,class:!0});var R=x(S);for(let z=0;z<b.length;z+=1)b[z].l(R);R.forEach(I),w=Y(c),q=V(c,"DIV",{id:!0,class:!0});var I0=x(q);for(let z=0;z<k.length;z+=1)k[z].l(I0);I0.forEach(I),c.forEach(I),n0=Y(v),O=V(v,"DIV",{class:!0});var G=x(O);j=V(G,"DIV",{id:!0,class:!0});var w0=x(j);for(let z=0;z<f.length;z+=1)f[z].l(w0);w0.forEach(I),r0=Y(G),J=V(G,"DIV",{id:!0,class:!0});var b0=x(J);for(let z=0;z<D.length;z+=1)D[z].l(b0);b0.forEach(I),h=Y(G),m=V(G,"DIV",{id:!0,class:!0});var k0=x(m);e0(C.$$.fragment,k0),k0.forEach(I),W=Y(G),B=V(G,"DIV",{id:!0,class:!0});var D0=x(B);e0(M.$$.fragment,D0),D0.forEach(I),G.forEach(I),v.forEach(I),this.h()},h(){p(t,"id","lastUpdate"),d0(t,"show",a[1]),p(_,"id","colorWarps"),p(_,"class","container borderless"),p(s,"class","row"),p(S,"id","threading"),p(S,"class","container dots"),p(q,"id","tieup"),p(q,"class","container dots"),p(g,"class","row sticky"),p(j,"id","drawdown"),p(j,"class","container borderless"),p(J,"id","treadling"),p(J,"class","container dots"),p(m,"id","colorWefts"),p(m,"class","container borderless"),p(B,"id","checklist"),p(B,"class","container borderless"),p(O,"class","row"),p(o,"id","canvas")},m(i,d){L(i,t,d),y(t,n),y(t,e),L(i,l,d),L(i,o,d),y(o,s),y(s,_),t0(r,_,null),y(o,U),y(o,g),y(g,S);for(let v=0;v<b.length;v+=1)b[v]&&b[v].m(S,null);y(g,w),y(g,q);for(let v=0;v<k.length;v+=1)k[v]&&k[v].m(q,null);y(o,n0),y(o,O),y(O,j);for(let v=0;v<f.length;v+=1)f[v]&&f[v].m(j,null);y(O,r0),y(O,J);for(let v=0;v<D.length;v+=1)D[v]&&D[v].m(J,null);y(O,h),y(O,m),t0(C,m,null),y(O,W),y(O,B),t0(M,B,null),H=!0},p(i,[d]){(!H||d&2)&&d0(t,"show",i[1]);const v={};if(d&4&&(v.pattern=i[2].colorWarps),r.$set(v),d&12){F=T(i[2].threading);let c;for(c=0;c<F.length;c+=1){const R=N0(i,F,c);b[c]?(b[c].p(R,d),E(b[c],1)):(b[c]=O0(R),b[c].c(),E(b[c],1),b[c].m(S,null))}for(i0(),c=F.length;c<b.length;c+=1)h0(c);a0()}if(d&12){Q=T(i[2].tieup);let c;for(c=0;c<Q.length;c+=1){const R=z0(i,Q,c);k[c]?(k[c].p(R,d),E(k[c],1)):(k[c]=R0(R),k[c].c(),E(k[c],1),k[c].m(q,null))}for(i0(),c=Q.length;c<k.length;c+=1)g0(c);a0()}if(d&1){A=T(i[0]);let c;for(c=0;c<A.length;c+=1){const R=q0(i,A,c);f[c]?(f[c].p(R,d),E(f[c],1)):(f[c]=T0(R),f[c].c(),E(f[c],1),f[c].m(j,null))}for(i0(),c=A.length;c<f.length;c+=1)u(c);a0()}if(d&12){K=T(i[2].treadling);let c;for(c=0;c<K.length;c+=1){const R=x0(i,K,c);D[c]?(D[c].p(R,d),E(D[c],1)):(D[c]=U0(R),D[c].c(),E(D[c],1),D[c].m(J,null))}for(i0(),c=K.length;c<D.length;c+=1)j0(c);a0()}const s0={};d&4&&(s0.pattern=i[2].colorWefts),C.$set(s0);const o0={};d&4&&(o0.pattern=i[2].checklist),M.$set(o0)},i(i){if(!H){E(r.$$.fragment,i);for(let d=0;d<F.length;d+=1)E(b[d]);for(let d=0;d<Q.length;d+=1)E(k[d]);for(let d=0;d<A.length;d+=1)E(f[d]);for(let d=0;d<K.length;d+=1)E(D[d]);E(C.$$.fragment,i),E(M.$$.fragment,i),H=!0}},o(i){N(r.$$.fragment,i),b=b.filter(Boolean);for(let d=0;d<b.length;d+=1)N(b[d]);k=k.filter(Boolean);for(let d=0;d<k.length;d+=1)N(k[d]);f=f.filter(Boolean);for(let d=0;d<f.length;d+=1)N(f[d]);D=D.filter(Boolean);for(let d=0;d<D.length;d+=1)N(D[d]);N(C.$$.fragment,i),N(M.$$.fragment,i),H=!1},d(i){i&&(I(t),I(l),I(o)),l0(r),Z(b,i),Z(k,i),Z(f,i),Z(D,i),l0(C),l0(M)}}}function $0(a,t,n){const e=["a","b","c","d"];let l,o=[],s=[],_=!1;o[0]='{"v":0.1,"pattern":0,"colorA":"#222222","colorB":"#eeeeee","colorC":"#7f7f7f","colorD":"#444","shafts":4,"wefts":32,"warps":56,"tieups":4,"threading":[[1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,0,1,0,1,0,1,0,1,0,0,0,0,1,0,0,1,0,1,0],[0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0],[0,0,1,0,0,0,1,0,0,0,1,0,1,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,1,0,1],[0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,0]],"treadling":[[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,0],[0,1,0,0],[0,0,1,0],[0,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,1],[0,0,1,0],[0,1,0,0],[1,0,0,0],[0,0,0,1],[0,0,1,0]],"tieup":[[1,1,0,0],[0,1,1,0],[0,0,1,1],[1,0,0,1]],"colorWefts":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colorWarps":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"checklist":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"size":20}',o[1]='{"v":0.1,"pattern":1,"colorA":"#ff5625","colorB":"#fff048","colorC":"#ffffff","colorD":"#ff26a4","shafts":4,"wefts":50,"warps":72,"tieups":6,"threading":[[1,0,1,0,0,0,0,0,1,0,0,1,0,1,0,1,0,0,0,0,1,0,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,0,1,0,1,0,1,0,1,0,0,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,1,0,1,0,1,0,1],[0,1,0,0,0,0,0,1,0,1,0,0,0,0,0,0,0,1,0,1,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0],[0,0,0,0,1,0,1,0,0,0,1,0,1,0,1,0,0,0,0,0,1,0,1,0,0,1,0,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0],[0,0,0,1,0,1,0,0,0,0,0,0,0,0,0,0,1,0,1,0,0,1,0,1,0,0,1,0,0,1,0,0,0,1,0,0,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,1,0,0,0,0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0]],"treadling":[[1,1,0,0,0,0],[1,1,0,0,0,0],[0,0,1,1,0,0],[0,0,1,1,0,0],[0,0,1,1,0,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[1,0,0,0,1,0],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,1,0,0,0,0],[0,1,0,0,0,0],[0,1,1,0,0,0],[0,0,1,0,0,0],[0,0,1,1,0,0],[0,0,0,1,0,0],[0,0,0,1,0,0],[1,0,1,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[1,0,0,0,0,0],[0,1,0,0,0,0],[0,1,0,0,0,0],[0,1,0,0,0,0],[0,1,0,1,0,0],[0,0,0,1,0,0],[0,0,0,1,0,0],[0,0,0,1,0,0],[0,0,0,1,0,1],[0,0,0,1,0,1],[0,0,0,0,0,1],[1,0,0,0,0,1],[1,0,0,1,0,1],[1,0,0,1,0,0],[0,0,0,1,0,0],[0,0,1,1,0,0],[0,0,1,1,0,0],[0,0,1,1,0,0],[0,0,1,0,0,0],[0,0,1,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,1],[0,0,0,0,0,0]],"tieup":[[0,1,1,1],[0,0,1,1],[1,0,0,1],[1,1,0,0],[1,0,1,0],[0,1,1,0]],"colorWefts":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colorWarps":[0,2,0,2,0,2,0,3,0,3,0,3,0,2,2,2,2,0,0,0,0,3,3,3,3,0,0,0,0,1,2,1,2,1,0,0,0,0,1,3,1,3,1,3,1,0,0,2,1,0,2,1,0,2,1,0,2,1,0,3,0,3,0,3,0,2,0,2,0,2,0,0],"checklist":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"size":16}',o[2]='{"v":0.1,"pattern":2,"colorA":"#0082ff","colorB":"#ffccb8","colorC":"#7f7f7f","colorD":"#444","shafts":6,"wefts":44,"warps":60,"tieups":6,"threading":[[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0],[0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0],[0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0],[0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0],[0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],[0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]],"treadling":[[1,0,0,0,0,0],[0,1,1,0,0,0],[0,0,1,1,0,0],[0,0,0,1,1,0],[0,0,0,0,1,0],[0,0,0,0,0,1],[1,1,1,0,0,0],[0,1,1,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1],[1,1,1,0,0,0],[0,1,1,1,0,0],[0,0,1,1,1,0],[0,0,0,1,1,1],[0,0,0,0,1,1],[1,1,1,0,0,0],[0,1,1,1,0,0],[0,0,1,1,1,0],[0,0,0,1,1,1],[0,0,0,0,1,1],[1,1,0,0,0,0],[0,1,1,0,0,0],[0,0,1,1,0,0],[0,0,0,1,1,0],[0,0,0,0,1,1],[1,1,0,0,0,0],[0,1,1,0,0,0],[0,0,1,1,0,0],[0,0,0,1,1,0],[0,0,0,0,1,1],[1,0,0,0,0,0],[0,1,0,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1],[1,0,0,0,0,0],[0,1,0,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1]],"tieup":[[1,0,0,0,0,0],[0,1,0,0,0,0],[0,0,1,0,0,0],[0,0,0,1,0,0],[0,0,0,0,1,0],[0,0,0,0,0,1]],"colorWefts":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1],"colorWarps":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"checklist":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"size":18}';let r={v:.1,pattern:0,colorA:"#f0e130",colorB:"#303ff0",colorC:"#FF007F",colorD:"#444",shafts:2,wefts:24,warps:24,tieups:4,threading:[],treadling:[],tieup:[],colorWefts:[],colorWarps:[],checklist:[],size:20},U=null,g=null,S=null;F0(()=>{l=document.documentElement,n(1,_=!0),setTimeout(function(){n(1,_=!1)},8e3),L0(()=>import("../chunks/tweakpane.834ceedf.js"),[],import.meta.url).then(h=>{U&&U.dispose(),U=new h.Pane,g=U.addFolder({title:"Settings"}),n0()})});const w=()=>{window.localStorage.setItem("preset",JSON.stringify(r))},q=()=>{J(),n(2,r),w()},n0=()=>{const h=window.localStorage.getItem("preset");console.log("preset",h),console.log("PARAMS",r.shafts);let m=!1;h!=null&&JSON.parse(h).v==r.v&&(m=!0,window.localStorage.clear()),n(2,r=JSON.parse(m?h:o[0]));const C=g.addBlade({view:"list",label:"pattern",options:[{text:"00",value:0},{text:"01",value:1},{text:"02",value:2}],value:r.pattern}),W=g.addBinding(r,"colorA"),B=g.addBinding(r,"colorB"),M=g.addBinding(r,"colorC"),H=g.addBinding(r,"colorD"),F=g.addBinding(r,"shafts",{min:2,max:12,step:1}),b=g.addBinding(r,"warps",{min:10,max:120,step:2}),h0=g.addBinding(r,"wefts",{min:10,max:120,step:2}),Q=g.addBinding(r,"tieups",{min:4,max:12,step:1}),k=g.addBinding(r,"size",{min:8,max:32,step:2}),g0=g.addButton({title:"Reset"});C.on("change",A=>{const f=JSON.parse(o[A.value]);for(let u in f)n(2,r[u]=f[u],r);U.refresh(),q()}),W.on("change",A=>{l.style.setProperty("--color-a",r.colorA),w()}),B.on("change",A=>{l.style.setProperty("--color-b",r.colorB),w()}),M.on("change",A=>{l.style.setProperty("--color-c",r.colorC),w()}),H.on("change",A=>{l.style.setProperty("--color-d",r.colorD),w()}),k.on("change",A=>{l.style.setProperty("--box-size",r.size+"px"),w()}),F.on("change",A=>{clearInterval(S),S=setTimeout(function(){const f=A.value-r.threading.length;if(console.log(f),f!=0){if(f>0){for(let u=0;u<f;u++)r.threading.push(Array(r.warps).fill(0));for(let u=0;u<r.tieup.length;u++)r.tieup[u].push(...Array(f).fill(0))}else{for(let u=0;u<Math.abs(f);u++)r.threading.pop();for(let u=0;u<r.tieup.length;u++)r.tieup[u].splice(r.tieup[u].length+f,-f)}n(2,r),n(2,r),q()}},300)}),b.on("change",A=>{clearInterval(S),S=setTimeout(function(){const f=A.value-r.threading[0].length;if(console.log(f),f!=0){if(f>0){for(let u=0;u<r.threading.length;u++)r.threading[u].push(...Array(f).fill(0));r.colorWarps.push(...Array(f).fill(0))}else{for(let u=0;u<r.threading.length;u++)r.threading[u].splice(r.threading[u].length+f,-f);r.colorWarps.splice(r.colorWarps.length+f,-f)}q()}},300)}),h0.on("change",A=>{clearInterval(S),S=setTimeout(function(){const f=A.value-r.treadling.length;if(f!=0){if(f>0){for(let u=0;u<f;u++)r.treadling.push(Array(r.tieups).fill(0));r.colorWefts.push(...Array(f).fill(1))}else{for(let u=0;u<Math.abs(f);u++)r.treadling.pop();r.colorWefts.splice(r.colorWefts.length+f,-f)}q()}},300)}),Q.on("change",A=>{clearInterval(S),S=setTimeout(function(){const f=A.value-r.tieup.length;if(f!=0){if(f>0){for(let u=0;u<f;u++)r.tieup.push(Array(r.shafts).fill(0));for(let u=0;u<r.treadling.length;u++)r.treadling[u].push(...Array(f).fill(0))}else{for(let u=0;u<Math.abs(f);u++)r.tieup.pop();for(let u=0;u<r.treadling.length;u++)r.treadling[u].splice(r.treadling[u].length+f,-f)}n(2,r),q()}},300)}),g0.on("click",()=>{n(2,r=JSON.parse(o[r.pattern])),window.localStorage.clear(),w(),location.reload()}),l.style.setProperty("--color-a",r.colorA),l.style.setProperty("--color-b",r.colorB),l.style.setProperty("--color-c",r.colorC),l.style.setProperty("--color-d",r.colorD),l.style.setProperty("--box-size",r.size+"px"),J()},O=h=>{let m=r[h.detail.sectionId][h.detail.index];h.detail.sectionId=="checklist"?(m=m==0?1:0,n(2,r[h.detail.sectionId][h.detail.index]=m,r)):(m=r[h.detail.sectionId][h.detail.parentIndex][h.detail.index],m=m==0?1:0,n(2,r[h.detail.sectionId][h.detail.parentIndex][h.detail.index]=m,r)),q()},j=h=>{let m=r[h.detail.sectionId][h.detail.index];m=m<e.length-1?m+1:0,n(2,r[h.detail.sectionId][h.detail.index]=m,r),q()},r0=()=>{let h=[];for(let m=0;m<r.wefts;m++){let C=[];for(let W=0;W<r.warps;W++)C.push(0);h.push(C)}return h},J=()=>{n(0,s=r0());for(let h=0;h<r.wefts;h++){const m=Array(r.shafts).fill(0);let C=!1;for(let W=0;W<r.treadling[h].length;W++)if(r.treadling[h][W]==1)for(let B=0;B<r.tieup[W].length;B++)r.tieup[W][B]==1&&(m[B]=1,C=!0);for(let W=0;W<r.warps;W++)if(C){n(0,s[h][W]=r.colorWefts[h],s);for(let B=0;B<r.shafts;B++)m[B]==1&&r.threading[B][W]==1&&n(0,s[h][W]=r.colorWarps[W],s)}else n(0,s[h][W]=r.colorWarps[W],s)}};return[s,_,r,O,j]}class re extends m0{constructor(t){super(),v0(this,t,$0,Z0,_0,{})}}export{re as component};
